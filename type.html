<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>답변 입력</title>

    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

    <style>
        body {
            margin: 0;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background: #000;
            font-family: "Pretendard", sans-serif;
            overflow: hidden;
            color: #dbe8ff;
        }

        .glow-text {
            font-size: 1.4rem;
            color: #dbe8ff;
            margin-bottom: 20px;
            text-shadow:
                0 0 6px rgba(150, 180, 255, 0.45),
                0 0 12px rgba(120, 160, 255, 0.25);
            animation: breathing 3s ease-in-out infinite;
        }

        @keyframes breathing {
            0% {
                opacity: 0.8;
                text-shadow: 0 0 4px rgba(170, 190, 255, 0.4);
            }

            50% {
                opacity: 1;
                text-shadow: 0 0 7px rgba(170, 190, 255, 0.55);
            }

            100% {
                opacity: 0.8;
                text-shadow: 0 0 4px rgba(170, 190, 255, 0.4);
            }
        }

        textarea {
            width: 80%;
            max-width: 600px;
            height: 150px;
            padding: 12px;
            font-size: 16px;
            border-radius: 10px;
            background: #111;
            border: 1px solid #334;
            color: #dbe8ff;
            outline: none;
            box-shadow: 0 0 12px rgba(120, 160, 255, 0.2);
        }

        button {
            margin-top: 20px;
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            background: #3045ff;
            color: white;
            font-size: 16px;
            cursor: pointer;
            transition: 0.2s;
            box-shadow: 0 0 10px rgba(100, 120, 255, 0.4);
        }

        button:hover {
            transform: scale(1.05);
            box-shadow: 0 0 16px rgba(120, 150, 255, 0.6);
        }
    </style>

</head>

<body>

    <div class="glow-text">Write your answer</div>

    <textarea id="answerInput" placeholder="답변을 입력하세요..."></textarea>
    <button id="saveBtn">저장하기</button>

    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyBDzzvIzfD69sbhpllo-Al2WDnKsfYFkR0",
            authDomain: "understandingmedia-26901.firebaseapp.com",
            databaseURL: "https://understandingmedia-26901-default-rtdb.asia-southeast1.firebasedatabase.app",
            projectId: "understandingmedia-26901",
            storageBucket: "understandingmedia-26901.firebasestorage.app",
            messagingSenderId: "637508298408",
            appId: "1:637508298408:web:ba3ad3fae5ae0cf808849d"
        };

        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        const input = document.getElementById("answerInput");
        const saveBtn = document.getElementById("saveBtn");

        saveBtn.addEventListener("click", () => {
            const text = input.value.trim();
            if (!text) return alert("내용을 입력하세요!");

            db.ref("answers").push({
                text: text,
                time: Date.now()
            }).then(() => {
                window.location.href = "answer.html";
            });
        });
    </script>

</body>

</html>